webpackJsonp([31],{"24vR":function(e,r){},iR3X:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("M9A7"),s=t("TIfe"),a={name:"reset",data:function(){var e=this;return{form:{mobile:"",password:"",password2:"",code:""},rules:{mobile:[{validator:function(r,t,o){""===t?o(new Error("手机号不能为空")):/^1[0-9]{10}$/.test(e.form.mobile)?o():o(new Error("手机号格式不正确"))},trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}],password:[{validator:function(e,r,t){""===r?t(new Error("密码不能为空")):r.length<6?t(new Error("密码不能少于 6 位")):t()},trigger:"blur"}],password2:[{validator:function(r,t,o){""===t?o(new Error("密码不能为空")):t.length<6?o(new Error("密码不能少于 6 位")):t!==e.form.password?o(new Error("两次输入的密码不一致")):o()},trigger:"blur"}]}}},methods:{sendMessage:function(){var e=this;/^1[0-9]{10}$/.test(this.form.mobile)?Object(o.d)(this.form.mobile).then(function(r){0==r.data.code?e.$message.success(r.data.message):e.$message.error(r.data.message)}):this.$message.error("手机号格式不正确")},resetPassword:function(){var e=this;this.$refs.form.validate(function(r){if(!r)return!1;var t={mobile:e.form.mobile.toString(),password:e.form.password,code:e.form.code};Object(o.b)(t).then(function(r){0==r.data.code?(e.$message.success(r.data.message),Object(s.e)(),e.back()):e.$message.error(r.data.message)})})},back:function(){this.$router.push("/login/signin")}}},n={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"reset-container"},[t("h2",[e._v("修改密码")]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":""}},[t("el-form-item",{attrs:{prop:"mobile"}},[t("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(r){e.$set(e.form,"mobile",e._n("string"==typeof r?r.trim():r))},expression:"form.mobile"}},[t("template",{slot:"prepend"},[e._v("+86")])],2)],1),e._v(" "),t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}},[t("el-button",{staticStyle:{color:"#409EFF"},attrs:{slot:"append"},on:{click:e.sendMessage},slot:"append"},[e._v("获取验证码")])],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"password2"}},[t("el-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:e.form.password2,callback:function(r){e.$set(e.form,"password2",r)},expression:"form.password2"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"btn",staticStyle:{width:"100%","border-radius":"2em"},attrs:{type:"primary"},on:{click:e.resetPassword}},[e._v("修 改")])],1)],1),e._v(" "),t("div",{staticClass:"footer"},[t("a",{on:{click:e.back}},[e._v("返回登录")])])],1)},staticRenderFns:[]};var i=t("C7Lr")(a,n,!1,function(e){t("24vR")},null,null);r.default=i.exports}});
//# sourceMappingURL=31.c37a53b68e09165ccf7a.js.map