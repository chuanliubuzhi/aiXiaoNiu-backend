webpackJsonp([43],{"/Orf":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("qsHl"),a=s("yNs4"),n={name:"selling",data:function(){return{visible2:!1,size:6,currentPage:1,lists:[],page:{},showDialog:!1,selectTable:{}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e={page:this.currentPage,"per-page":this.size};Object(o.h)(e).then(function(e){t.lists=e.data.data;for(var s=0;s<t.lists.length;s++)t.lists[s].last_update=Object(a.a)(t.lists[s].last_update),t.lists[s].img="upload.ixn123.com/"+t.lists[s].original_img+"&oss-process=h_60,w_60";t.page=e.data.page_info})},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},etGoods:function(t,e){this.$router.push({name:"goodsEdit",params:{catid:e.cat_id,goodsName:e.goods_name,goodsSn:e.goods_sn,goodsContent:e.goods_content,originalImg:e.original_img,marketPrice:e.market_price,shopPrice:e.shop_price,goodsId:e.goods_id,storeCount:e.store_count}})},delGoods:function(t,e){var s={goods_id:e[t].goods_id},a=this;a.$confirm("将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.c)(s).then(function(s){0==s.data.code?(a.$message({type:"success",message:"删除成功!"}),e.splice(t,1)):a.$message({type:"info",message:"删除失败!"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-list container newcon"},[s("div",{staticClass:"clearfix ui-box"},[s("div",{staticClass:"pull-left"},[s("router-link",{staticClass:"addGoods",attrs:{to:{name:"create"}}},[t._v("\n\t\t\t\t\t添加商品\n\t\t\t\t")])],1),t._v(" "),s("div",{staticClass:"pull-right"},[s("el-dropdown",[s("span",{staticClass:"el-dropdown-link"},[t._v("\n\t\t\t\t    下拉菜单"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"a"}},[t._v("黄金糕")]),t._v(" "),s("el-dropdown-item",{attrs:{command:"b"}},[t._v("狮子头")]),t._v(" "),s("el-dropdown-item",{attrs:{command:"c"}},[t._v("螺蛳粉")])],1)],1)],1)]),t._v(" "),s("div",{staticClass:"ui-box"},[s("el-table",{ref:"sellingTable",staticStyle:{width:"100%"},attrs:{border:"","tooltip-effect":"dark",data:t.lists}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),s("el-table-column",{attrs:{prop:"goods_name",label:"商品名",width:"120","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{label:"缩略图",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("div",{staticClass:"goods-img"},[s("img",{attrs:{src:t.row.img}})])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"shop_price",label:"价格",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"last_update",label:"创建时间","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{prop:"goods_sn",label:"商品编号","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{prop:"address",label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.etGoods(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){t.delGoods(e.$index,t.lists)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),s("div",{staticClass:"ui-box clearfix"},[s("div",{staticClass:"pull-left"},[s("el-button",{attrs:{size:"small",plain:""}},[t._v("修改模板")]),t._v(" "),s("el-button",{attrs:{size:"small",plain:""}},[t._v("下架")]),t._v(" "),s("el-button",{attrs:{size:"small",plain:""}},[t._v("删除")]),t._v(" "),s("el-button",{attrs:{size:"small",plain:""}},[t._v("更多")])],1),t._v(" "),s("div",{staticClass:"pull-right"},[s("el-pagination",{attrs:{background:"","current-page":t.page.current_page,"page-size":t.page.num,layout:"prev, pager, next",total:t.page.total_num},on:{"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]};var i=s("C7Lr")(n,l,!1,function(t){s("Cd6I")},"data-v-38590379",null);e.default=i.exports},Cd6I:function(t,e){}});
//# sourceMappingURL=43.7d5f9748afa142ee2d48.js.map