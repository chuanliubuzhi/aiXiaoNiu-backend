webpackJsonp([32],{AUDN:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("hky6"),o={name:"printer",data:function(){return{dialogVisible:!1,lists:[],form:{id:"",brand:"1",name:"",eq_number:"",eq_key:"",status:"",print_num:"1",print_for:[],print_show:"1"}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(a.g)().then(function(e){t.lists=t.handleData(e.data.data)})},create:function(){this.dialogVisible=!0,this.form.id="",this.form.brand="1",this.form.name="",this.form.eq_number="",this.form.eq_key="",this.form.status="",this.form.print_num="1",this.form.print_for=["1","2","3"],this.form.print_show="1"},handleCreate:function(){var t=this;Object(a.c)(this.form).then(function(e){0==e.data.code?(t.$message.success(e.data.message),t.dialogVisible=!1,t.fetchData()):t.$message.error(e.data.message)})},edit:function(t,e){this.dialogVisible=!0,this.form.id=e.id,this.form.brand=e.brand.toString(),this.form.name=e.name,this.form.eq_number=e.eq_number,this.form.eq_key=e.eq_key,this.form.status=e.status,this.form.print_num=e.print_num.toString(),this.form.print_for=e.print_for,this.form.print_show=e.print_show.toString()},handleEdit:function(t,e){var r=this;Object(a.n)(this.form).then(function(t){0==t.data.code?(r.dialogVisible=!1,r.$message.success(t.data.message),r.fetchData()):r.$message.error(t.data.message)})},handleDelete:function(t,e){var r=this;this.$confirm("此操作将永久删除该打印机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.f)(e.id).then(function(t){0==t.data.code?(r.$message.success(t.data.message),r.fetchData()):r.$message.error(t.data.message)})}).catch(function(){r.$message.info("已取消删除")})},handleData:function(t){for(var e=0;e<t.length;e++){1==t[e].brand&&(t[e].Brand="易联云"),1==t[e].print_show?t[e].Print_show="按下单顺序打印菜品":2==t[e].print_show&&(t[e].Print_show="按商品分组打印菜品");var r=[];t[e].print_for.includes("1")&&r.push("外卖订单"),t[e].print_for.includes("2")&&r.push("堂食订单"),t[e].print_for.includes("3")&&r.push("扫码买单订单"),t[e].Print_for=r.join("，")}return t}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.create}},[t._v("新建打印机")]),t._v(" "),r("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.lists,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{prop:"Brand",label:"设备品牌"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"设备名称"}}),t._v(" "),r("el-table-column",{attrs:{prop:"eq_number",label:"设备编号"}}),t._v(" "),r("el-table-column",{attrs:{prop:"eq_key",label:"设备密钥"}}),t._v(" "),r("el-table-column",{attrs:{prop:"print_num",label:"打印数量"}}),t._v(" "),r("el-table-column",{attrs:{prop:"Print_for",label:"打印支持",width:"250"}}),t._v(" "),r("el-table-column",{attrs:{prop:"Print_show",label:"打印显示",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){t.edit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(r){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("el-dialog",{attrs:{title:"编辑打印机信息",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{attrs:{model:t.form,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"设备品牌："}},[r("el-radio-group",{model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand",e)},expression:"form.brand"}},[r("el-radio",{attrs:{label:"1"}},[t._v("易联云")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"设备名称："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"off",placeholder:"输入名称，如厨房打印机"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"设备号码："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"off",placeholder:"输入设备底部的机器号"},model:{value:t.form.eq_number,callback:function(e){t.$set(t.form,"eq_number",e)},expression:"form.eq_number"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"设备密钥："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"off",placeholder:"输入密钥"},model:{value:t.form.eq_key,callback:function(e){t.$set(t.form,"eq_key",e)},expression:"form.eq_key"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"打印数量："}},[r("el-radio-group",{model:{value:t.form.print_num,callback:function(e){t.$set(t.form,"print_num",e)},expression:"form.print_num"}},[r("el-radio",{attrs:{label:"1"}},[t._v("1张")]),t._v(" "),r("el-radio",{attrs:{label:"2"}},[t._v("2张")]),t._v(" "),r("el-radio",{attrs:{label:"3"}},[t._v("3张")]),t._v(" "),r("el-radio",{attrs:{label:"4"}},[t._v("4张")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"打印显示："}},[r("el-radio-group",{model:{value:t.form.print_show,callback:function(e){t.$set(t.form,"print_show",e)},expression:"form.print_show"}},[r("el-radio",{attrs:{label:"1"}},[t._v("按下单顺序打印菜品")]),t._v(" "),r("el-radio",{attrs:{label:"2"}},[t._v("按商品分组打印菜品")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"打印支持：",prop:"type"}},[r("el-checkbox-group",{model:{value:t.form.print_for,callback:function(e){t.$set(t.form,"print_for",e)},expression:"form.print_for"}},[r("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("外卖订单")]),t._v(" "),r("el-checkbox",{attrs:{label:"2",name:"type"}},[t._v("堂食订单")]),t._v(" "),r("el-checkbox",{attrs:{label:"3",name:"type"}},[t._v("扫码买单订单")])],1)],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),""==t.form.id?r("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("确 定")]):t._e(),t._v(" "),""!=t.form.id?r("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("确 定")]):t._e()],1)],1)],1)},staticRenderFns:[]};var l=r("C7Lr")(o,i,!1,function(t){r("v0of")},"data-v-55de6ee5",null);e.default=l.exports},v0of:function(t,e){}});
//# sourceMappingURL=32.f6d31c2906484a93f830.js.map